!function(){var e={800:function(e,n,t){var a=t(704).default;function i(e){return null==e||e.length<2?"":e.toLowerCase().split("-")[0].split("_")[0]}function o(e,n){return i(e)==i(n)}n.TtsEngine={DEFAULT_LANG:"en",voice:{},voices:[],rate:1,utteranceId:0,startedAndNotTerminatedCounter:0,listener:null,utterance:{},_googleBugTimeout:null,_speakTimeout:null,_canceledAtMs:0,init:function(e){var n=this;e&&(this.listener=e),this._populateVoices(),speechSynthesis.onvoiceschanged=function(){n._populateVoices()}},setListener:function(e){this.listener=e},setBestMatchingVoice:function(e,n,t){if(null==this.voices||0==this.voices.length)return"";if(e&&e.voiceURI||n||t||(this.voice&&this.voice.voiceURI?n=this.voice.voiceURI:t=this.DEFAULT_LANG),e&&(n=e.voiceURI||n),n){var i,r=a(this.voices);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(s.voiceURI==n)return this.voice=s,s.voiceURI}}catch(y){r.e(y)}finally{r.f()}}if(t){if(this.voice&&o(this.voice.lang,t))return this.voice.voiceURI;var l=this.voices.filter((function(e){return o(e.lang,t)}));if(l&&l.length>0){if(1==l.length)return this.voice=l[0],this.voice.voiceURI;if(!t.startsWith("en")&&!t.startsWith("es"))return this.voice=l[0],this.voice.voiceURI;var c,u,d=-1,h=a(l);try{for(h.s();!(u=h.n()).done;){var g=u.value,f=0;g.localService&&(f+=1.5),2==g.lang.length?f+=3:-1!=["en-us","en-uk","en-gb","es-es"].indexOf(g.lang.toLowerCase().replace("_","-"))?f+=4:-1==["en-in"].indexOf(g.lang.toLowerCase().replace("_","-"))&&(f+=2),console.log("score: "+f+" for: ",g),f>d&&(d=f,c=g)}}catch(y){h.e(y)}finally{h.f()}if(c)return this.voice=c,this.voice.voiceURI}}var p,v=a(this.voices);try{for(v.s();!(p=v.n()).done;){var m=p.value;if(this.voice=m,m.localService)return m.voiceURI}}catch(y){v.e(y)}finally{v.f()}return this.voice.voiceURI},_populateVoices:function(){var e=window.speechSynthesis.getVoices();e&&e.length>0&&(this.voices=e.filter((function(e){if(!e.voiceURI.includes("com.apple.eloquence")&&!e.voiceURI.includes("com.apple.speech.synthesis"))return e})),this.setBestMatchingVoice(this.voice,null,null),this.listener&&this.listener.onInit&&this.listener.onInit(this.voices))},setVoiceByUri:function(e){this.setBestMatchingVoice(null,e,null)},getVoiceURI:function(){return this.voice||this.setBestMatchingVoice(),this.voice?this.voice.voiceURI:""},setRate:function(e){"string"==typeof e&&(e=Number(e)),isNaN(e)||(e<.1&&(e=.1),e>4&&(e=4),this.rate=e)},isInitiated:function(){return null!=this.voices},_defaultOnStart:function(e){this.startedAndNotTerminatedCounter++,this._solveChromeBug()},_defaultOnEnd:function(e){this.startedAndNotTerminatedCounter>0&&this.startedAndNotTerminatedCounter--,this._clearUtteranceTimeouts()},_defaultOnError:function(e){this.startedAndNotTerminatedCounter>0&&this.startedAndNotTerminatedCounter--,this._clearUtteranceTimeouts()},_clearUtteranceTimeouts:function(){null!=this._googleBugTimeout&&(window.clearTimeout(this._googleBugTimeout),this._googleBugTimeout=null)},_solveChromeBug:function(){if(this.voice&&-1!==this.voice.voiceURI.toLowerCase().indexOf("google")){this._clearUtteranceTimeouts();var e=this;this._googleBugTimeout=window.setTimeout((function(){window.speechSynthesis.pause(),window.speechSynthesis.resume(),e._solveChromeBug()}),1e4)}},_prepareTextForSynthesis:function(e){var n=e;return(n=(n=n.replace("\xb7",", ")).replace("- ",", ")).trim(),n},speakOut:function(e){var n=this;if(this.startedAndNotTerminatedCounter>0||window.speechSynthesis.paused||window.speechSynthesis.pending||window.speechSynthesis.speaking)return console.log("tts - ronen1"),this.stop(),void(this._speakTimeout=window.setTimeout((function(){n.speakOut(e)}),200));if(e){if(e=this._prepareTextForSynthesis(e),!this.isInitiated())return!1;this.utteranceId++;var t=new SpeechSynthesisUtterance;this.utterance=t,t.text=e,null==this.voice&&this.setBestMatchingVoice(null,null,null),this.voice&&(t.lang=this.voice.lang,t.voiceURI=this.voice.voiceURI,t.voice=this.voice),t.rate=this.rate;var a=this;t.onmark=function(e){console.log("onmark ",e)},t.onstart=function(e){console.log("onstart ",e),a._defaultOnStart(e),a.listener&&a.listener.onStart&&a.listener.onStart()},t.onboundary=function(e){console.log("onboundary: "+e.name+" boundary reached after "+e.elapsedTime+" milliseconds.",e)},t.onend=function(e){a._defaultOnEnd(e),a.listener&&a.listener.onDone&&a.listener.onDone(),t=null},t.onerror=function(e){a._defaultOnError(e),t=null},console.log("tts - ronen right away"),this._speakUtterance(t)}else this.utterance&&this.utterance.onend()},stop:function(){null!=this._speakTimeout&&(window.clearTimeout(this._speakTimeout),this._speakTimeout=null),window.speechSynthesis.cancel(),this.startedAndNotTerminatedCounter=0,this._canceledAtMs=Date.now()},_speakUtterance:function(e){null!=this._speakTimeout&&(window.clearTimeout(this._speakTimeout),this._speakTimeout=null),window.speechSynthesis.paused&&window.speechSynthesis.resume(),Date.now()-this._canceledAtMs>100?window.speechSynthesis.speak(e):this._speakTimeout=window.setTimeout((function(){window.speechSynthesis.speak(e)}),200)}}},816:function(e,n,t){n.TtsEngine=t(800).TtsEngine},897:function(e){e.exports=function(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a},e.exports.__esModule=!0,e.exports.default=e.exports},704:function(e,n,t){var a=t(116);e.exports=function(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=a(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw r}}}},e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,n,t){var a=t(897);e.exports=function(e,n){if(e){if("string"===typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},n={};function t(a){var i=n[a];if(void 0!==i)return i.exports;var o=n[a]={exports:{}};return e[a](o,o.exports,t),o.exports}!function(){"use strict";function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(n){var t=function(n,t){if("object"!==e(n)||null===n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var i=a.call(n,t||"default");if("object"!==e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"===e(t)?t:String(t)}function a(e,t,a){return(t=n(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function s(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw o}}}}var l=t(816);function c(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}function d(e,n,t){return n&&u(e.prototype,n),t&&u(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var h=function(){function e(n){var t=this;c(this,e),this.data={},this.listeners=[],this.effects=[],this.get=function(e){return t.data.hasOwnProperty(e)?t.data[e]:null},this.updateWithParams=function(e){e&&e instanceof Object&&(t.data=o(o({},t.data),e));var n,a=s(t.effects);try{for(a.s();!(n=a.n()).done;){var i=n.value;t.data=o(o({},t.data),i(t.data))}}catch(c){a.e(c)}finally{a.f()}var r,l=s(t.listeners);try{for(l.s();!(r=l.n()).done;){(0,r.value)(t.data)}}catch(c){l.e(c)}finally{l.f()}},this.addChangeListener=function(e){e&&e instanceof Function&&(t.listeners.push(e),e(t.data))},this.addEffect=function(e){e&&e instanceof Function&&t.effects.push(e)},this.updateWithParams(n)}return d(e,null,[{key:"getOs",value:function(){if(!window.navigator)return"unknown";var e=(navigator.userAgent+" "+navigator.platform+" "+navigator.userAgentData).toLowerCase();return/android/i.test(e)?"android":/mac/i.test(e)&&"ontouchend"in document||/ipad|iphone|ipod|ios/i.test(e)?"ios":/mac/i.test(e)?"mac":/win/i.test(e)?"win":"unknown"}},{key:"isChrome",value:function(){try{var e=window.chrome,n=window.navigator,t=n.vendor,a="undefined"!==typeof window.opr,i=n.userAgent.indexOf("Edg")>-1;if(n.userAgent.match("CriOS"));else if(null!==e&&"undefined"!==typeof e&&"Google Inc."===t&&!1===a&&!1===i)return!0}catch(o){}return!1}}]),e}(),g=d((function e(){c(this,e)}));g.init=function(e,n,t){if(n)for(var a=function(){var e=o[i],t=document.querySelectorAll("["+e+"]");t&&t.forEach((function(t){var a=t.getAttribute(e);a&&n[a]instanceof Function&&t.addEventListener(e.substr(10).toLowerCase(),(function(t){n[a](t);try{"data-ws-onClick"===e&&window.gtag&&window.gtag instanceof Function&&window.gtag("event","player_dws_"+a,{value:"1"})}catch(i){}}))}))},i=0,o=["data-ws-onClick","data-ws-onPaste","data-ws-onChange","data-ws-onInput"];i<o.length;i++)a();e&&e.addChangeListener&&e.addChangeListener((function(e){console.log("received updated state on dom hooks: ",e),document.querySelectorAll("[data-ws-value-state]").forEach((function(n){var t=n.getAttribute("data-ws-value-state"),a=e[t];null!==a&&void 0!==a&&(n.value=a)})),document.querySelectorAll("[data-ws-label-state]").forEach((function(n){var t=n.getAttribute("data-ws-label-state"),a=e[t];null!==a&&void 0!==a&&(n.innerHTML=a)})),document.querySelectorAll("[data-ws-style-state]").forEach((function(n){var t=n.getAttribute("data-ws-style-state").split("="),a=t[0],i=t[1],o=e[i];null!==o&&void 0!==o&&(n.style[a]=o)})),document.querySelectorAll("[data-ws-show-if-state]").forEach((function(n){var t=n.getAttribute("data-ws-show-if-state");if(t){var a=(t=t.split("="))[0],i=t[1];"false"===i?e[a]?n.classList.add("hidden"):n.classList.remove("hidden"):"true"===i?e[a]?n.classList.remove("hidden"):n.classList.add("hidden"):i===""+e[a]?n.classList.remove("hidden"):n.classList.add("hidden")}})),document.querySelectorAll("[data-ws-select-if-state]").forEach((function(n){var t=n.getAttribute("data-ws-select-if-state");if(t){var a=(t=t.split("="))[0],i=t[1];"false"===i?e[a]?n.removeAttribute("selected"):n.setAttribute("selected",!0):"true"===i?e[a]?n.setAttribute("selected",!0):n.removeAttribute("selected"):i===""+e[a]?n.setAttribute("selected",!0):n.removeAttribute("selected")}}))})),document.querySelectorAll("[data-ws-toggle]").forEach((function(e){e.addEventListener("click",(function(n){var t=document.querySelector(e.getAttribute("data-ws-toggle"));t&&("none"===getComputedStyle(t).display?t.style.display="":t.style.display="none")}))}))},g.showModal=function(e){g.closeModals();var n=document.getElementById(e);n&&(n.style.display="")},g.closeModals=function(){document.querySelectorAll(".Modal").forEach((function(e){e.style.display="none"}))};var f={allLocales:[["Afrikaans (Suid-Afrika)","af-ZA","Afrikaans (South Africa)"],["\u12a0\u121b\u122d\u129b (\u12a2\u1275\u12ee\u1335\u12eb)","am-ET","Amharic (Ethiopia)"],["\u0540\u0561\u0575 (\u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576)","hy-AM","Armenian (Armenia)"],["Az\u0259rbaycan (Az\u0259rbaycan)","az-AZ","Azerbaijani (Azerbaijan)"],["Bahasa Indonesia (Indonesia)","id-ID","Indonesian (Indonesia)",1],["Bahasa Melayu (Malaysia)","ms-MY","Malay (Malaysia)"],["\u09ac\u09be\u0982\u09b2\u09be (\u09ac\u09be\u0982\u09b2\u09be\u09a6\u09c7\u09b6)","bn-BD","Bengali (Bangladesh)",1],["\u09ac\u09be\u0982\u09b2\u09be (\u09ad\u09be\u09b0\u09a4)","bn-IN","Bengali (India)"],["Catal\xe0 (Espanya)","ca-ES","Catalan (Spain)"],["\u010ce\u0161tina (\u010cesk\xe1 republika)","cs-CZ","Czech (Czech Republic)"],["Dansk (Danmark)","da-DK","Danish (Denmark)"],["Deutsch (Deutschland)","de-DE","German (Germany)"],["English (Australia)","en-AU","English (Australia)"],["English (Canada)","en-CA","English (Canada)"],["English (Ghana)","en-GH","English (Ghana)"],["English (Great Britain)","en-GB","English (United Kingdom)"],["English (India)","en-IN","English (India)"],["English (Ireland)","en-IE","English (Ireland)"],["English (Kenya)","en-KE","English (Kenya)"],["English (New Zealand)","en-NZ","English (New Zealand)"],["English (Nigeria)","en-NG","English (Nigeria)"],["English (Philippines)","en-PH","English (Philippines)"],["English (Singapore)","en-SG","English (Singapore)"],["English (South Africa)","en-ZA","English (South Africa)"],["English (Tanzania)","en-TZ","English (Tanzania)"],["English (United States)","en-US","English (United States)",1],["Espa\xf1ol (Argentina)","es-AR","Spanish (Argentina)"],["Espa\xf1ol (Bolivia)","es-BO","Spanish (Bolivia)"],["Espa\xf1ol (Chile)","es-CL","Spanish (Chile)"],["Espa\xf1ol (Colombia)","es-CO","Spanish (Colombia)"],["Espa\xf1ol (Costa Rica)","es-CR","Spanish (Costa Rica)"],["Espa\xf1ol (Ecuador)","es-EC","Spanish (Ecuador)"],["Espa\xf1ol (El Salvador)","es-SV","Spanish (El Salvador)"],["Espa\xf1ol (Espa\xf1a)","es-ES","Spanish (Spain)",1],["Espa\xf1ol (Estados Unidos)","es-US","Spanish (United States)"],["Espa\xf1ol (Guatemala)","es-GT","Spanish (Guatemala)"],["Espa\xf1ol (Honduras)","es-HN","Spanish (Honduras)"],["Espa\xf1ol (M\xe9xico)","es-MX","Spanish (Mexico)"],["Espa\xf1ol (Nicaragua)","es-NI","Spanish (Nicaragua)"],["Espa\xf1ol (Panam\xe1)","es-PA","Spanish (Panama)"],["Espa\xf1ol (Paraguay)","es-PY","Spanish (Paraguay)"],["Espa\xf1ol (Per\xfa)","es-PE","Spanish (Peru)"],["Espa\xf1ol (Puerto Rico)","es-PR","Spanish (Puerto Rico)"],["Espa\xf1ol (Rep\xfablica Dominicana)","es-DO","Spanish (Dominican Republic)"],["Espa\xf1ol (Uruguay)","es-UY","Spanish (Uruguay)"],["Espa\xf1ol (Venezuela)","es-VE","Spanish (Venezuela)"],["Euskara (Espainia)","eu-ES","Basque (Spain)"],["Filipino (Pilipinas)","fil-PH","Filipino (Philippines)"],["Fran\xe7ais (Canada)","fr-CA","French (Canada)"],["Fran\xe7ais (France)","fr-FR","French (France)",1],["Galego (Espa\xf1a)","gl-ES","Galician (Spain)"],["\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8 (\u10e1\u10d0\u10e5\u10d0\u10e0\u10d7\u10d5\u10d4\u10da\u10dd)","ka-GE","Georgian (Georgia)"],["\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0 (\u0aad\u0abe\u0ab0\u0aa4)","gu-IN","Gujarati (India)"],["Hrvatski (Hrvatska)","hr-HR","Croatian (Croatia)"],["IsiZulu (Ningizimu Afrika)","zu-ZA","Zulu (South Africa)"],["\xcdslenska (\xcdsland)","is-IS","Icelandic (Iceland)"],["Italiano (Italia)","it-IT","Italian (Italy)"],["Jawa (Indonesia)","jv-ID","Javanese (Indonesia)"],["\u0c95\u0ca8\u0ccd\u0ca8\u0ca1 (\u0cad\u0cbe\u0cb0\u0ca4)","kn-IN","Kannada (India)"],["\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a (\u1780\u1798\u17d2\u1796\u17bb\u1787\u17b6)","km-KH","Khmer (Cambodia)"],["\u0ea5\u0eb2\u0ea7 (\u0ea5\u0eb2\u0ea7)","lo-LA","Lao (Laos)"],["Latvie\u0161u (latvie\u0161u)","lv-LV","Latvian (Latvia)"],["Lietuvi\u0173 (Lietuva)","lt-LT","Lithuanian (Lithuania)"],["Magyar (Magyarorsz\xe1g)","hu-HU","Hungarian (Hungary)"],["\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02 (\u0d07\u0d28\u0d4d\u0d24\u0d4d\u0d2f)","ml-IN","Malayalam (India)"],["\u092e\u0930\u093e\u0920\u0940 (\u092d\u093e\u0930\u0924)","mr-IN","Marathi (India)"],["Nederlands (Nederland)","nl-NL","Dutch (Netherlands)"],["\u0928\u0947\u092a\u093e\u0932\u0940 (\u0928\u0947\u092a\u093e\u0932)","ne-NP","Nepali (Nepal)"],["Norsk bokm\xe5l (Norge)","nb-NO","Norwegian Bokm\xe5l (Norway)"],["Polski (Polska)","pl-PL","Polish (Poland)"],["Portugu\xeas (Brasil)","pt-BR","Portuguese (Brazil)",1],["Portugu\xeas (Portugal)","pt-PT","Portuguese (Portugal)"],["Rom\xe2n\u0103 (Rom\xe2nia)","ro-RO","Romanian (Romania)"],["\u0dc3\u0dd2\u0d82\u0dc4\u0dbd (\u0dc1\u0dca\u0dbb\u0dd3 \u0dbd\u0d82\u0d9a\u0dcf\u0dc0)","si-LK","Sinhala (Sri Lanka)"],["Sloven\u010dina (Slovensko)","sk-SK","Slovak (Slovakia)"],["Sloven\u0161\u010dina (Slovenija)","sl-SI","Slovenian (Slovenia)"],["Urang (Indonesia)","su-ID","Sundanese (Indonesia)"],["Swahili (Tanzania)","sw-TZ","Swahili (Tanzania)"],["Swahili (Kenya)","sw-KE","Swahili (Kenya)"],["Suomi (Suomi)","fi-FI","Finnish (Finland)"],["Svenska (Sverige)","sv-SE","Swedish (Sweden)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe)","ta-IN","Tamil (India)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd)","ta-SG","Tamil (Singapore)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8)","ta-LK","Tamil (Sri Lanka)"],["\u0ba4\u0bae\u0bbf\u0bb4\u0bcd (\u0bae\u0bb2\u0bc7\u0b9a\u0bbf\u0baf\u0bbe)","ta-MY","Tamil (Malaysia)"],["\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41 (\u0c2d\u0c3e\u0c30\u0c24\u0c26\u0c47\u0c36\u0c02)","te-IN","Telugu (India)"],["Ti\u1ebfng Vi\u1ec7t (Vi\u1ec7t Nam)","vi-VN","Vietnamese (Vietnam)"],["T\xfcrk\xe7e (T\xfcrkiye)","tr-TR","Turkish (Turkey)"],["\u0627\u0631\u062f\u0648 (\u067e\u0627\u06a9\u0633\u062a\u0627\u0646)","ur-PK","Urdu (Pakistan)"],["\u0627\u0631\u062f\u0648 (\u0628\u06be\u0627\u0631\u062a)","ur-IN","Urdu (India)",1],["\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac (\u0395\u03bb\u03bb\u03ac\u03b4\u03b1)","el-GR","Greek (Greece)"],["\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 (\u0411\u044a\u043b\u0433\u0430\u0440\u0438\u044f)","bg-BG","Bulgarian (Bulgaria)"],["\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (\u0420\u043e\u0441\u0441\u0438\u044f)","ru-RU","Russian (Russia)"],["\u0421\u0440\u043f\u0441\u043a\u0438 (\u0421\u0440\u0431\u0438\u0458\u0430)","sr-RS","Serbian (Serbia)"],["\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 (\u0423\u043a\u0440\u0430\u0457\u043d\u0430)","uk-UA","Ukrainian (Ukraine)"],["\u05e2\u05d1\u05e8\u05d9\u05ea (\u05d9\u05e9\u05e8\u05d0\u05dc)","he-IL","Hebrew (Israel)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0625\u0633\u0631\u0627\u0626\u064a\u0644)","ar-IL","Arabic (Israel)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0623\u0631\u062f\u0646)","ar-JO","Arabic (Jordan)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0625\u0645\u0627\u0631\u0627\u062a)","ar-AE","Arabic (United Arab Emirates)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0628\u062d\u0631\u064a\u0646)","ar-BH","Arabic (Bahrain)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u062c\u0632\u0627\u0626\u0631)","ar-DZ","Arabic (Algeria)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629)","ar-SA","Arabic (Saudi Arabia)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0639\u0631\u0627\u0642)","ar-IQ","Arabic (Iraq)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0643\u0648\u064a\u062a)","ar-KW","Arabic (Kuwait)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0627\u0644\u0645\u063a\u0631\u0628)","ar-MA","Arabic (Morocco)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u062a\u0648\u0646\u0633)","ar-TN","Arabic (Tunisia)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0639\u064f\u0645\u0627\u0646)","ar-OM","Arabic (Oman)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0641\u0644\u0633\u0637\u064a\u0646)","ar-PS","Arabic (State of Palestine)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0642\u0637\u0631)","ar-QA","Arabic (Qatar)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0644\u0628\u0646\u0627\u0646)","ar-LB","Arabic (Lebanon)"],["\u0627\u0644\u0639\u0631\u0628\u064a\u0629 (\u0645\u0635\u0631)","ar-EG","Arabic (Egypt)",1],["\u0641\u0627\u0631\u0633\u06cc (\u0627\u06cc\u0631\u0627\u0646)","fa-IR","Persian (Iran)"],["\u0939\u093f\u0928\u094d\u0926\u0940 (\u092d\u093e\u0930\u0924)","hi-IN","Hindi (India)"],["\u0e44\u0e17\u0e22 (\u0e1b\u0e23\u0e30\u0e40\u0e17\u0e28\u0e44\u0e17\u0e22)","th-TH","Thai (Thailand)"],["\ud55c\uad6d\uc5b4 (\ub300\ud55c\ubbfc\uad6d)","ko-KR","Korean (South Korea)"],["\u570b\u8a9e (\u53f0\u7063)","zh-TW","Chinese, Mandarin (Traditional, Taiwan)"],["\u5ee3\u6771\u8a71 (\u9999\u6e2f)","yue-Hant-HK","Chinese, Cantonese (Traditional, Hong Kong)"],["\u65e5\u672c\u8a9e\uff08\u65e5\u672c\uff09","ja-JP","Japanese (Japan)"],["\u666e\u901a\u8a71 (\u9999\u6e2f)","zh-HK","Chinese, Mandarin (Simplified, Hong Kong)"],["\u666e\u901a\u8bdd (\u4e2d\u56fd\u5927\u9646)","zh","Chinese, Mandarin (Simplified, China)"]],normalizeCode:function(e){return e?e.toUpperCase().replace(/_/g,"-"):""},areCodesEqual:function(e,n){return e==n||!(!e||!n)&&this.normalizeCode(e)==this.normalizeCode(n)},isLanguageCodeSupported:function(e){return!!this.getLocaleByCode(e)},supportedLanguagesString:function(){var e,n="",t=s(this.allLocales);try{for(t.s();!(e=t.n()).done;){var a=e.value;n+=this.codeToLabel(a[1])+"\n"}}catch(i){t.e(i)}finally{t.f()}return n},codeToName:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"native";if(!e)return"";var t,a=e.includes("-")||e.includes("_")?this.allLocales:this.getSupportedLanguagesOnlyList(),i=s(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(this.areCodesEqual(o[1],e))switch(n){case"english":return o[2];case"both":return o[0]+" - "+o[2];default:return o[0]}}}catch(r){i.e(r)}finally{i.f()}return e.toUpperCase()},getFlagForCountryCode:function(e){if(null==e||2!=e.length)return e?e.substring(0,3):"";if("IL"==(e=e.toUpperCase()))return"\ud83c\uddee\ud83c\uddf1";if("PS"==e)return"\ud83c\uddf5\ud83c\uddf8";return String.fromCodePoint(e.codePointAt(0)-65+127462)+String.fromCodePoint(e.codePointAt(1)-65+127462)},codeToCountryCode:function(e){if(!e||e.length<2)return"";if((e=e.replace("-","_")).indexOf("_")>-1){var n=e.split("_");e=n[n.length-1]}else if("zh"==(e=e.substring(e.length-2,e.length))||"ZH"==e)return"CN";return e},codeToLanguageCodeOnly:function(e){return null==e||e.length<2?"":e.toLowerCase().replace("_","-").split("-")[0]},doCodesShareLanguage:function(e,n){return this.codeToLanguageCodeOnly(e)==this.codeToLanguageCodeOnly(n)},getLocaleByCode:function(e){if(!e)return"";if(!(e=this.normalizeCode(e)).includes("-"))return this.getDefaultLocaleForLanguage(e);var n,t=s(this.allLocales);try{for(t.s();!(n=t.n()).done;){var a=n.value;if(this.areCodesEqual(a[1],e))return a}}catch(i){t.e(i)}finally{t.f()}return""},getSupportedLanguagesOnlyList:function(){var e,n={},t=s(this.allLocales);try{for(t.s();!(e=t.n()).done;){var a=e.value;n[this.codeToLanguageCodeOnly(a[1])]=[a[0].split(" (")[0],this.codeToLanguageCodeOnly(a[1]),a[2].split(" (")[0]]}}catch(c){t.e(c)}finally{t.f()}var i,o=[],r=s(Object.getOwnPropertyNames(n));try{for(r.s();!(i=r.n()).done;){var l=i.value;o.push(n[l])}}catch(c){r.e(c)}finally{r.f()}return o=o.sort((function(e,n){return e[0].localeCompare(n[0])}))},getAllLocalesForLanguage:function(e){var n=this;return e?(e=this.codeToLanguageOnly(e),this.allLocales.filter((function(t){return n.codeToLanguageCodeOnly(t[1])==e}))):[]},getDefaultLocaleForLanguage:function(e){var n=this;if(!e)return"";e=this.codeToLanguageOnly(e).toLowerCase();var t=this.allLocales.filter((function(t){return n.codeToLanguageCodeOnly(t[1])==e}));if(!t||0==t.length)return"";if(1==t.length)return t[0];var a=t.filter((function(e){return e.length>3}));return a&&a.length>0?a[0]:t[0]},codeToLanguageOnly:function(e){return e?e.toLowerCase().replace("_","-").split("-")[0]:""},codeToFlag:function(e){return this.getFlagForCountryCode(this.codeToCountryCode(e))},codeToLabel:function(e){return this.codeToFlag(e)+" "+this.codeToName(e)}},p=f,v=function(){function e(){c(this,e)}return d(e,null,[{key:"getBestVoices",value:function(n){for(var t=[],a=0;a<e.malesDescending[n].length||a<e.femalesDescending[n].length;)a<e.malesDescending[n].length&&t.push(e.malesDescending[n][a]),a<e.femalesDescending[n].length&&t.push(e.femalesDescending[n][a]),a++;return t}}]),e}();function m(e){if(!e)return"";if(p.doCodesShareLanguage(e.lang,"en")){var n,t=s(v.getBestVoices("en"));try{for(t.s();!(n=t.n()).done;){var a=n.value;if(a.uri===e.voiceURI)return a.name}}catch(i){t.e(i)}finally{t.f()}}return function(e,n){e=e||"Voice",e.toLowerCase().includes("(enhanced)")&&(e=e.replace("(Enhanced)","2"));e.includes("(")&&e.includes(")")&&(e=e.substring(0,e.indexOf("(")));"Google US English"===e&&(e="Female, US *");var t=e.toLowerCase(),a="";(t.includes("google")||t.includes("microsoft"))&&(e=(e=(e=(e=e.replace("Google ","")).replace("Microsoft ","")).replace("Wavenet ","")).replace("Online ",""));return e=e.replace("-",""),e=e.replace("English",""),e=e.trim(),e=e||n,e+a}(e.name,e.lang)}function y(e){if(e){var n=e.voiceURI.toLowerCase();if(n.includes("google")||n.includes("microsoft"))return!0}return!1}function w(e,n){var t=p.codeToFlag(e.lang),a=m(e);return!1,a.endsWith(" *")&&a.length>15?a=a.substring(0,10)+"... *":a.length>15&&(a=a.substring(0,10)+"..."),t+" "+a}v.malesDescending={en:[{uri:"Microsoft Christopher Online (Natural) - English (United States)",name:"Christopher"},{uri:"Google UK English Male",name:"Noah"},{uri:"Daniel",name:"Daniel"},{uri:"Microsoft Eric Online (Natural) - English (United States)",name:"Eric"},{uri:"Microsoft Mark - English (United States)",name:"Mark"},{uri:"Microsoft Ryan Online (Natural) - English (United Kingdom)",name:"Ryan"},{uri:"com.apple.voice.compact.en-GB.Daniel",name:"Daniel"}]},v.femalesDescending={en:[{uri:"Microsoft Jenny Online (Natural) - English (United States)",name:"Jenny"},{uri:"Microsoft Libby Online (Natural) - English (United Kingdom)",name:"Libby"},{uri:"Microsoft Aria Online (Natural) - English (United States)",name:"Aria"},{uri:"Microsoft Michelle Online (Natural) - English (United States)",name:"Michelle"},{uri:"Google US English",name:"Olivia"},{uri:"Google UK English Female",name:"Lily"},{uri:"Samantha",name:"Samantha"},{uri:"com.apple.voice.compact.en-US.Samantha",name:"Samantha"}]};var S=d((function e(n){var t=this;c(this,e),this.persist=function(e,n){null===n||void 0===n?window.localStorage.removeItem(t.preKey+e):(n instanceof Object&&(n=JSON.stringify(n)),window.localStorage.setItem(t.preKey+e,n))},this.get=function(e,n){var a=window.localStorage.getItem(t.preKey+e);return null===a||void 0===a?null:(n&&("Object"===n?a=JSON.parse(a):"number"===n?a=parseFloat(a):"bool"===n&&(a="true"===a||!0===a||"1"===a||1===a||"false"!==a&&!1!==a&&"0"!==a&&0!==a&&!!a)),a)},this.remove=function(e){window.localStorage.removeItem(t.preKey+e)},this.preKey=n+"_"})),b=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],E=[.4,.5,.6,.7,.75,.8,.85,.9,.95,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.25,2.5,2.9];var T=function(){function e(){c(this,e)}return d(e,null,[{key:"indexOfFirstSentenceEnd",value:function(n){var t,a=1/0,i="",o=s(e.SENTENCE_STRONG_ENDS);try{for(o.s();!(t=o.n()).done;){var r=t.value;if(n.includes(r)){var l=n.indexOf(r);l<a&&(a=l,i=r)}}}catch(f){o.e(f)}finally{o.f()}if(i)return a+i.length;if(n.length>e.MAX_SEGMENT_LENGTH){n=n.substr(0,e.MAX_SEGMENT_LENGTH);var c,u=s(e.SENTENCE_SOFT_BREAKS);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(n.includes(d)){var h=n.indexOf(d);h<a&&(a=h,i=d)}}}catch(f){u.e(f)}finally{u.f()}if(i)return a+i.length;var g=n.lastIndexOf(" ");if(g>-1)return g+1}return n.length}},{key:"findFirstRealPeriod",value:function(e){for(var n=0;n<e.length;n++)if("."===e.charAt(n)){if(n<e.length-1&&-1!="0123456789".indexOf(e.charAt(n+1)))continue;if(n>1&&"."==e.charAt(n-2))continue;if(n>2){var t=e.substring(n-2,n).toLowerCase();if("mr"==t||"ms"==t||"dr"==t)continue}if(n<e.length-1&&-1!="   [({])}".indexOf(e.charAt(n+1))||"\n"==e.charAt(n+1))return n}return-1}},{key:"getClosestValue",value:function(e,n){for(var t=document.getElementById(e),a=null,i=t.options[0].value,o=0;o<t.options.length;o++){var r=t.options[o].value;if(r==n)return n;var s=Math.abs(t.options[o].value-n);(null==a||s<a)&&(a=s,i=r)}return i}},{key:"sortList",value:function(e){return void 0==e||null==e?e:"[object Array]"===Object.prototype.toString.call(e)?e.sort((function(e,n){var t=e[1].toUpperCase(),a=n[1].toUpperCase();return t<a?-1:t>a?1:0})):void 0}},{key:"hashCode",value:function(e,n){var t,a=0;if(!e)return a;for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return n&&(a=Math.abs(a)),a}}]),e}();T.MAX_SEGMENT_LENGTH=300,T.SENTENCE_STRONG_ENDS=[". ","\n","!","?"],T.SENTENCE_SOFT_BREAKS=[", ",": ","; ","(",")","[","]","{","}"];!function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","/plugin/main.85cf1685.css"),document.head.appendChild(e),document.querySelectorAll("ttsplugin").forEach((function(e){e.innerHTML='<div class="TTSPlugin TTSPlugin-Playback-buttons-bar">\n          <span>\n            <button title="Go to beginning" aria-label="Go to beginning" data-ws-onClick="goToStart"><svg class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"></path></svg></button>\n            <button title="Jump backwards" aria-label="Jump backwards" data-ws-onClick="rewind"><svg class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6 8.5 6V6l-8.5 6z"></path></svg></button>\n            <span style="display: inline-block; width: 80px;"></span>\n            <button title="Jump forward" aria-label="Jump forward" data-ws-onClick="forward"><svg class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="m4 18 8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"></path></svg></button>\n            <button title="Set narration language, voice & speed" aria-label="Set narration language, voice & speed" data-ws-toggle="#TTSPlugin-voicesModal"><svg class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"></path></svg></button>\n\n            <button class="Play-btn" data-ws-onClick="togglePlay" title="Play / Pause" aria-label="Play / Pause">\n              <span data-ws-show-if-state="isPlayingOn=true" class="hidden"><svg class="Play-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path></svg></span>\n              <span data-ws-show-if-state="isPlayingOn=false"><svg class="Play-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></span>\n            </button>\n          </span>\n</div>'}));var n=document.createElement("div");document.body.append(n),n.innerHTML='<div class="TTSPlugin TTSPlugin-Modal" id="TTSPlugin-voicesModal" style="display: none;">\n  <div style="flex: 1;"></div>\n  <div class="Modal-content" style="display: flex; flex-direction: column;overflow: hidden;padding: 16px;margin: 16px auto;">\n    <button class="Close-modal" style="z-index: 999"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg></button>\n\n    <div style="max-width: 100%; width: 370px; margin: 15px auto 5px; flex: 1;overflow-y: auto;text-align: left;padding: 0 10px;">\n      <p style="font-size: 1.2em;text-align: center;margin-top: 0;">\n        <select class="Language-selector Flag-font" data-ws-onChange="handleLanguageChange" data-ws-value-state="selectedLanguageCode" style="text-align: center;font-size: 1.1em;background-color:transparent;width: 230px;outline: none;border:none;"></select>\n      </p>\n      <div style="text-align: center;position: relative;">\n        <span style="font-size: 1em;user-select: none;display: block;position: absolute;left: 0;top:0;">Speed</span>\n        <span>\n                <span data-ws-onClick="slower" style="user-select: none;vertical-align: baseline;border: 1px solid blue;text-align: center;cursor: pointer;display: inline-block; line-height: 16px; font-size: 18px; margin: 5px; width: 20px;height: 20px; border-radius: 10px;background-color: white; color: blue;">-</span>\n                X<span data-ws-label-state="selectedRate" style="width: 2em;display:inline-block;text-align: center">1</span></span>\n        <span data-ws-onClick="faster" style="user-select: none;vertical-align: baseline;border: 1px solid blue;text-align: center;cursor: pointer;display: inline-block; line-height: 16px; font-size: 18px; margin: 5px; width: 20px;height: 20px; border-radius: 10px;background-color: white; color: blue;">+</span>\n        <input type="range" data-ws-value-state="selectedRateSliderValue" style="width: 300px;max-width:90%; margin: auto;display: block;height: 50px;" min="1" max="20" data-ws-onInput="onRateChange">\n      </div>\n      <div style="display: flex">\n      <span style="font-size: 1em;">Voices</span>\n      <span style="flex: 1"></span>\n      <div style="display: inline-block;opacity: 0.7;margin-bottom: 15px;margin-right: 5px;">\n        <svg style="fill: lightseagreen;position: relative;top:-2px;right:-20px;\n    vertical-align: middle;" class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>\n        <svg style="position: relative;top:15px;" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hand-click" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n          <path d="M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5"></path>\n          <path d="M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5"></path>\n          <path d="M14 10.5a1.5 1.5 0 0 1 3 0v1.5"></path>\n          <path d="M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"></path>\n          <path d="M5 3l-1 -1"></path>\n          <path d="M4 7h-1"></path>\n          <path d="M14 3l1 -1"></path>\n          <path d="M15 6h1"></path>\n        </svg>\n        To test\n        \x3c!--<svg style="transform: rotate(90deg);position: relative;top:10px;" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-ramp-right-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n          <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n          <path d="M16 14l4 -4l-4 -4"></path>\n          <path d="M6 21c0 -6.075 4.925 -11 11 -11h3"></path>\n        </svg>--\x3e\n      </div>\n      </div>\n      <div class="Best-voices">\n\n      </div>\n\n      <div class="Voices-list"></div>\n    </div>\n    \x3c!--<select class="Voice-selector" data-ws-onChange="handleVoiceChange" data-ws-value-state="selectedVoiceUri"></select>--\x3e\n  </div>\n  <div style="flex: 1;"></div>\n</div>'}();var C="TTSReaderPlugin";function L(){console.log("loaded alright");h.getOs()}"complete"===document.readyState?(console.log("loaded already"),L()):(console.log("waiting for load"),window.addEventListener("load",(function(e){L()}))),document.querySelectorAll(".TTSPlugin-Modal").forEach((function(e){e.addEventListener("click",(function(e){e.target.closest(".Modal-content")||(e.target.closest(".TTSPlugin-Modal").style.display="none")}))})),document.querySelectorAll(".TTSPlugin-Modal .Close-modal").forEach((function(e){e.addEventListener("click",(function(e){e.target.closest(".TTSPlugin-Modal").style.display="none"}))}));var P=function(){console.log("Hello world from TTSPlugin");var e,n=document.querySelectorAll("h1,h2,h3,h4,h5,h6,h7,h8,h9,p,quote,ul,ol"),t=[],a=s(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.push(i)}}catch(q){a.e(q)}finally{a.f()}if(t.length>0){for(var r=0,c=0;c<t.length;c++){if("h1"===t[c].tagName.toLowerCase()){r=c;break}}r>0&&t.splice(0,r);var u,d=!1,f=s(t);try{for(f.s();!(u=f.n()).done;){if(u.value.innerText.trim().length>0){d=!0;break}}}catch(q){f.e(q)}finally{f.f()}d||(console.log("No text found in the page"),t=null)}console.log({PARAGRAPHS:t});var L=T.hashCode(window.location.href,!0);if(console.log({docId:L}),L){var P,A=o({},localStorage),k=s(Object.getOwnPropertyNames(A));try{for(k.s();!(P=k.n()).done;){var M=P.value;M.startsWith(C+"_caretPosition_")&&M!==C+"_caretPosition_"+L&&localStorage.removeItem(M)}}catch(q){k.e(q)}finally{k.f()}}console.log({isContentFixed:!0,docId:L});var x=new S(C),O=[["isPremium","bool"],["isRepeatMode","bool"],["caretPosition","Object"],["selectedFontSize",""],["selectedVoiceUri",""],["selectedLanguageCode",""],["selectedRate","number"],["selectedRateSliderValue","number"]],I=function(){for(var e={},n=0,t=O;n<t.length;n++){var a=t[n],i=a[0],o=a[1],r=L&&"caretPosition"===i?x.get(i+"_"+L,o):x.get(i,o);null!==r&&(e[i]=r)}return e}();console.log({storedState:I});var U=!0;Object.getOwnPropertyNames(I).length>0&&(U=!1);var R=o(o({},{isFirstVisit:U,isToWelcome:U,ttsReady:!1,isPlayingOn:!1,isRecordingOn:!1,caretPosition:{node:0,charStart:0,charEnd:0},selectedVoiceUri:"",selectedLanguageCode:"en",selectedRate:.95,selectedRateSliderValue:10,selectedFontSize:"20px",os:h.getOs(),isChrome:h.isChrome(),isRecordingSupported:"win"===h.getOs()||window.location.href.includes("localhost"),isRepeatMode:!1,isShareSupported:Boolean(window.navigator.share)}),I);R.caretPosition&&void 0!==R.caretPosition.node&&void 0!==R.caretPosition.charStart&&void 0!==R.caretPosition.charEnd||(R.caretPosition={node:0,charStart:0,charEnd:0});var N=new h(R);window.getAppState=function(){return N},N.addChangeListener((function(e){for(var n=0,t=O;n<t.length;n++){var a=t[n][0];L&&"caretPosition"===a?x.persist(a+"_"+L,e[a]):x.persist(a,e[a])}}));var _=function(){N.data.isPlayingOn?H():V()},B=function e(n,t,a,i){if(console.log("readNextParagraph from caret: ",t),l.TtsEngine.setVoiceByUri(N.data.selectedVoiceUri),l.TtsEngine.setRate(N.data.selectedRate),t.node>=n.length&&(N.updateWithParams({caretPosition:{node:0,charStart:0,charEnd:0}}),!i))return console.log("readNextParagraph: end of text"),void H();var o=n[t.node],r="",s=t.node,c=0;if(o instanceof Element&&(r=o.innerText.trim(),c=o.innerText.length),!r||"!"===r||"?"===r||"."===r||","===r||";"===r||":"===r||"-"===r||"\u2014"===r||"\u2013"===r||"("===r||")"===r||"["===r||"]"===r||"{"===r||"}"===r||'"'===r||"'"===r||"none"===window.getComputedStyle(o).display||null===o.offsetParent)return N.updateWithParams({caretPosition:{node:s+1,charStart:0,charEnd:0}}),void e(n,{node:s+1,charStart:0,charEnd:0},a,i);t={node:s,charStart:0,charEnd:c},a?N.updateWithParams({caretPosition:t}):l.TtsEngine.speakOut(r)},V=function(){t&&t.length?(N.updateWithParams({isPlayingOn:!0}),B(t,N.data.caretPosition,!1,!0)):alert("Couldn't find any text to read.")},z=function(e,n){var t,a,i=document.querySelector(".Voices-list"),o=document.querySelector(".Best-voices"),r=(a=n,(t=e)&&a&&0!=a.length?("en"===t?a.filter((function(e){if(p.areCodesEqual("en-US",e.lang)||p.areCodesEqual("en-GB",e.lang))return e})):"es"===t?a.filter((function(e){if(p.doCodesShareLanguage(e.lang,t))return e})):a.filter((function(e){if(p.areCodesEqual(e.lang,t))return e}))).sort((function(e,n){return e.name>n.name?1:-1})):[]),l=function(e,n){if(p.areCodesEqual(e,"en-US"))for(var t=0,a=["Samantha","Google","Reed"];t<a.length;t++){var i,o=a[t],r=s(n);try{for(r.s();!(i=r.n()).done;){var l=i.value;if(l.name.toLowerCase().includes(o.toLowerCase()))return l}}catch(q){r.e(q)}finally{r.f()}}else if(p.areCodesEqual(e,"en-GB"))for(var c=0,u=["Daniel","Google UK English Male","Samantha","Google","Reed"];c<u.length;c++){var d,h=u[c],g=s(n);try{for(g.s();!(d=g.n()).done;){var f=d.value;if(f.name.toLowerCase().includes(h.toLowerCase()))return f}}catch(q){g.e(q)}finally{g.f()}}var v,m=s(n);try{for(m.s();!(v=m.n()).done;){var y=v.value;if(y.name.toLowerCase().includes("google"))return y}}catch(q){m.e(q)}finally{m.f()}var w,S=s(n);try{for(S.s();!(w=S.n()).done;){var b=w.value;if(b.name.toLowerCase().includes("enhanced"))return b}}catch(q){S.e(q)}finally{S.f()}var E,T=["grandpa","grandma"],C=s(n);try{for(C.s();!(E=C.n()).done;){var L,P=E.value,A=s(T);try{for(A.s();!(L=A.n()).done;){var k=L.value;P.name.toLowerCase().includes(k)}}catch(q){A.e(q)}finally{A.f()}return P}}catch(q){C.e(q)}finally{C.f()}return n[0]}(e,r);if("en"===e){o.innerHTML="";var c,u=[],d=s(v.getBestVoices(e));try{for(d.s();!(c=d.n()).done;){var h,g=c.value,f=s(r);try{for(f.s();!(h=f.n()).done;){var w=h.value;w.voiceURI===g.uri&&(u.push(w),r.splice(r.indexOf(w),1))}}catch(q){f.e(q)}finally{f.f()}}}catch(q){d.e(q)}finally{d.f()}for(var S=0,b=u;S<b.length;S++){var E=b[S],T=document.createElement("div"),C=E.voiceURI,L=E.name;L=m(E),T.classList.add("Voice-list-element"),T.setAttribute("value",C),T.setAttribute("data-ws-select-if-state","selectedVoiceUri="+C),T.innerHTML='<span value="'+C+'" onClick="window.appMethods.selectVoice(\''+C+"')\">"+L+"</span>"+(y(E)?'<span style="color: green"></span>':"")+'                <span value="'+C+'" onClick="window.appMethods.testVoice(\''+C+'\')"><svg class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></span>',o.appendChild(T)}l=u[0]}else o.innerHTML="",r.splice(r.indexOf(l),1),r.unshift(l);if(i){i.innerHTML="en"===e?"<p style='text-align: center;font-size: 1.1em;font-weight: bold;margin-top: 30px;'>Additional Voices</p>":"";var P,A=s(r);try{for(A.s();!(P=A.n()).done;){var k=P.value,M=document.createElement("div"),x=k.voiceURI,O=k.name;O=m(k),M.classList.add("Voice-list-element"),M.setAttribute("value",x),M.setAttribute("data-ws-select-if-state","selectedVoiceUri="+x),M.innerHTML='<span value="'+x+'" onClick="window.appMethods.selectVoice(\''+x+"')\">"+O+"</span>"+(y(k)?'<span style="color: green"></span>':"")+'                <span value="'+x+'" onClick="window.appMethods.testVoice(\''+x+'\')"><svg class="Top-btn-svg" focusable="false" aria-hidden="true" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></span>',i.appendChild(M)}}catch(q){A.e(q)}finally{A.f()}}return l};function D(e,n,t){try{!function(e,n,t){var a=e[n.node];a.classList.add(t?"TTSPlugin-Blink":"TTSPlugin-Highlight"),a.scrollIntoView({behavior:"smooth",block:"center"}),t&&setTimeout((function(){a.classList.remove("TTSPlugin-Blink")}),1e3)}(e,n,t)}catch(a){}}var G=function e(n,a){if(t&&!(t.length<=1)){var i=t,o=(n+a)%i.length;if(o<0&&(o=i.length-1),i[o].innerText.trim()){var r={node:o,charStart:0,charEnd:0};console.log("old caret: "+N.data.caretPosition.node+", new: "+r.node),N.updateWithParams({caretPosition:r}),D(t,r,!0)}else e(o,a)}},F=function(e){var n=function(e,n){var t=0;if(E[0]===e)t=0;else for(;t<E.length&&E[t+1]<=e;)t++;return n?t--:t++,t>=E.length&&(t=E.length-1),t<0&&(t=0),[E[t],b[t]]}(N.get("selectedRate"),e),t=n[1],a=n[0];N.updateWithParams({selectedRateSliderValue:t,selectedRate:a})},H=function(){var e=o(o({},N.data.caretPosition),{},{charEnd:N.data.caretPosition.charStart});N.updateWithParams({isPlayingOn:!1,caretPosition:e}),D(document.querySelector(".Text-box"),e),l.TtsEngine.stop()},j={rewind:function(e){G(N.data.caretPosition.node,-1)},forward:function(e){G(N.data.caretPosition.node,1)},togglePlay:_,goToStart:function(e){N.updateWithParams({caretPosition:{node:0,charStart:0,charEnd:0}}),D(t,N.data.caretPosition,!0)},onRateChange:function(e){var n=e.currentTarget.value,t=function(e){var n=0;if(b[0]==e)return E[0];for(;n<b.length&&b[n+1]<=e;)n++;return E[n]}(n);N.updateWithParams({selectedRateSliderValue:n,selectedRate:t})},slower:function(e){F(!0)},faster:function(e){F(!1)},selectVoice:function(e){l.TtsEngine.setBestMatchingVoice(null,e,"");var n=w(l.TtsEngine.voice);N.updateWithParams({selectedVoiceUri:e,voiceLabel:n,isToWelcome:!1}),document.querySelector(".TTSPlugin-Modal").style.display="none"},testVoice:function(e){N.get("isPlayingOn")&&_(),l.TtsEngine.setBestMatchingVoice(null,e,""),l.TtsEngine.setRate(N.get("selectedRate"));var n="Hi, my name is "+m(l.TtsEngine.voice).replace("*","")+", and this is my voice.";l.TtsEngine.speakOut(n)},handleVoiceChange:function(e){var n=e.currentTarget.value;l.TtsEngine.setBestMatchingVoice(null,n,"");var t=w(l.TtsEngine.voice);N.updateWithParams({selectedVoiceUri:n,voiceLabel:t,isToWelcome:!1})},handleLanguageChange:function(e){var n=e.currentTarget.value,t=z(n,l.TtsEngine.voices),a=t.voiceURI,i=w(t);N.updateWithParams({selectedLanguageCode:n,selectedVoiceUri:a,voiceLabel:i})}};window.appMethods=j,g.init(N,j);var K={onInit:function(e){if(!N.data.ttsReady){console.log("tts initiated");var n,t,a=function(e){if(!e||0==e.length)return[];var n,t=[],a=s(e);try{for(a.s();!(n=a.n()).done;){var i=n.value.lang;t.includes(i)||t.push(i)}}catch(q){a.e(q)}finally{a.f()}var o=[];return t.forEach((function(e){o.push([e,p.codeToName(e,"native")])})),o.sort((function(e,n){return e[1]>n[1]?1:e[1]==n[1]?0:-1})),o}(e);console.log("locales: ",a);var i=null;if(!N.get("selectedVoiceUri")&&"en"===N.get("selectedLanguageCode")){var o,r=s(v.getBestVoices("en"));try{var c=function(){var n=o.value;if(i=e.find((function(e){return e.voiceURI===n.uri})))return"break"};for(r.s();!(o=r.n()).done;){if("break"===c())break}}catch(q){r.e(q)}finally{r.f()}}n=i?l.TtsEngine.setBestMatchingVoice(null,i.voiceURI,N.get("selectedLanguageCode")):l.TtsEngine.setBestMatchingVoice(null,N.get("selectedVoiceUri"),N.get("selectedLanguageCode")),t=l.TtsEngine.voice.lang,p.areCodesEqual(t,"en-US")||p.areCodesEqual(t,"en-GB")?t="en":p.doCodesShareLanguage(t,"es")&&(t="es");var u=document.querySelector(".Language-selector");if(u){var d;(d=document.createElement("option")).value="en",d.innerHTML="<span>"+p.codeToFlag("en-US")+"</span><span>"+p.codeToFlag("en-GB")+"</span>&nbsp;English",u.appendChild(d),(d=document.createElement("option")).value="es",d.innerHTML="<span>"+p.codeToFlag("es-ES")+"</span><span>"+p.codeToFlag("es-MX")+"</span>&nbsp;Espa\xf1ol",u.appendChild(d),(d=document.createElement("option")).value="",d.innerHTML="\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500",d.setAttribute("disabled",!0),u.appendChild(d);var h,g=s(a);try{for(g.s();!(h=g.n()).done;){var f=h.value;if(!(p.areCodesEqual(f[0],"en-US")||p.areCodesEqual(f[0],"en-GB")||p.doCodesShareLanguage(f[0],"es"))){var m=document.createElement("option");m.value=f[0],m.innerHTML=p.codeToFlag(f[0])+"&nbsp;"+f[1],u.appendChild(m)}}}catch(q){g.e(q)}finally{g.f()}}z(t,e);var y=w(l.TtsEngine.voice);N.updateWithParams({ttsReady:!0,selectedVoiceUri:n,selectedLanguageCode:t,voiceLabel:y})}},onDone:function(){if(console.log("onDone"),t[N.data.caretPosition.node].classList.remove("TTSPlugin-Highlight"),N.data.isPlayingOn){var e={node:N.data.caretPosition.node+1,charStart:0,charEnd:0};N.updateWithParams({caretPosition:e}),B(t,e)}},onStart:function(){N.get("isPlayingOn")&&D(t,N.data.caretPosition)}};l.TtsEngine.init(K)};console.log=function(){},console.debug=function(){};var A=Date.now();function k(){return Math.round((Date.now()-A)/1e3)+": "}function M(){P()}"loading"===document.readyState?(console.log(k()+"Script awaiting to load all DOM"),window.addEventListener("DOMContentLoaded",(function(e){M()}))):(console.log(k()+"Loading script right away"),M())}()}();
//# sourceMappingURL=main.4c2dcd5b.js.map
